---
interface Props {
  title: string;
  description: string;
  publishDate: Date;
  author: string;
  slug: string;
  image?: string;
  imageAlt?: string;
  tags?: string[];
}

const { title, description, publishDate, author, slug, image, imageAlt, tags = [] } = Astro.props;

const formattedDate = publishDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<article class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
  <a href={`/blog/${slug}`} class="block">
    {image && (
      <div class="aspect-video overflow-hidden bg-gray-200">
        <img
          src={image}
          alt={imageAlt || title}
          class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
        />
      </div>
    )}
    <div class="p-6">
      <div class="flex items-center text-sm text-gray-500 mb-3">
        <time datetime={publishDate.toISOString()}>{formattedDate}</time>
        <span class="mx-2">â€¢</span>
        <span>{author}</span>
      </div>

      <h3 class="text-xl font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors">
        {title}
      </h3>

      <p class="text-gray-600 mb-4 line-clamp-3">
        {description}
      </p>

      {tags.length > 0 && (
        <div class="flex flex-wrap gap-2">
          {tags.map(tag => (
            <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full">
              {tag}
            </span>
          ))}
        </div>
      )}
    </div>
  </a>
</article>
