---
const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 bg-white shadow-md z-50">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <a href="/" class="text-2xl font-bold text-blue-600">
          Fells Prospect
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden md:block">
        <div class="ml-10 flex items-baseline space-x-6">
          <a
            href="/"
            class={`${currentPath === '/' ? 'text-blue-600 font-semibold' : 'text-gray-700 hover:text-blue-600'} px-3 py-2 transition-colors`}
          >
            Home
          </a>
          <a
            href="/about"
            class={`${currentPath === '/about' ? 'text-blue-600 font-semibold' : 'text-gray-700 hover:text-blue-600'} px-3 py-2 transition-colors`}
          >
            About
          </a>
          <a
            href="/blog"
            class={`${currentPath.startsWith('/blog') ? 'text-blue-600 font-semibold' : 'text-gray-700 hover:text-blue-600'} px-3 py-2 transition-colors`}
          >
            Blog
          </a>
          <a
            href="/events"
            class={`${currentPath.startsWith('/events') ? 'text-blue-600 font-semibold' : 'text-gray-700 hover:text-blue-600'} px-3 py-2 transition-colors`}
          >
            Events
          </a>
          <a
            href="/team"
            class={`${currentPath === '/team' ? 'text-blue-600 font-semibold' : 'text-gray-700 hover:text-blue-600'} px-3 py-2 transition-colors`}
          >
            Team
          </a>
          <a
            href="/volunteer"
            class={`${currentPath === '/volunteer' ? 'text-blue-600 font-semibold' : 'text-gray-700 hover:text-blue-600'} px-3 py-2 transition-colors`}
          >
            Volunteer
          </a>
          <a
            href="/contact"
            class={`${currentPath === '/contact' ? 'text-blue-600 font-semibold' : 'text-gray-700 hover:text-blue-600'} px-3 py-2 transition-colors`}
          >
            Contact
          </a>
        </div>
      </div>

      <!-- CTA Buttons -->
      <div class="hidden md:flex items-center space-x-4">
        <a
          href="/membership"
          class="px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50 transition-colors"
        >
          Become a Member
        </a>
        <a
          href="/donate"
          class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"
        >
          Donate
        </a>
      </div>

      <!-- Mobile menu button -->
      <div class="md:hidden">
        <button
          id="mobile-menu-button"
          type="button"
          class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-600"
          aria-expanded="false"
        >
          <span class="sr-only">Open main menu</span>
          <!-- Hamburger icon -->
          <svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden md:hidden pb-4">
      <div class="space-y-1">
        <a href="/" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Home</a>
        <a href="/about" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">About</a>
        <a href="/blog" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Blog</a>
        <a href="/events" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Events</a>
        <a href="/team" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Team</a>
        <a href="/volunteer" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Volunteer</a>
        <a href="/contact" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Contact</a>
        <div class="pt-4 space-y-2">
          <a href="/membership" class="block w-full text-center px-4 py-2 text-blue-600 border border-blue-600 rounded-md">Become a Member</a>
          <a href="/donate" class="block w-full text-center px-4 py-2 bg-blue-600 text-white rounded-md">Donate</a>
        </div>
      </div>
    </div>
  </nav>
</header>

<script>
  // Mobile menu toggle
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  menuButton?.addEventListener('click', () => {
    const isHidden = mobileMenu?.classList.contains('hidden');
    if (isHidden) {
      mobileMenu?.classList.remove('hidden');
      menuButton?.setAttribute('aria-expanded', 'true');
    } else {
      mobileMenu?.classList.add('hidden');
      menuButton?.setAttribute('aria-expanded', 'false');
    }
  });
</script>
